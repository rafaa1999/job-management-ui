
<div class="my-4 p-4 m-4" style="border: 1px solid #eee; border-radius: 5px;">

<!--     
    <div>
        <div>
            <h3>{{jobDetails.jobName}}</h3>
            <h3>timezone</h3>
        </div>
        <h3>{{jobDetails.scheduleTime | date: 'dd/MM/yyyy HH:mm:ss'}}</h3>
        <h3>{{jobDetails.lastFiredTime | date: 'dd/MM/yyyy HH:mm:ss'}}</h3>
        <h3>{{jobDetails.nextFireTime | date: 'dd/MM/yyyy HH:mm:ss'}}</h3>
        <h3>{{jobDetails.jobStatus}}</h3>
    </div> -->

    <div class="flex justify-content-between align-items-center">
        <h4 style="opacity: 30%;font-size: 12px;letter-spacing: 1px;">{{jobName}}</h4>
        <div class="flex flex-row-reverse gap-1">
            <div>
                <button class="btn" (click)="deleteJ()"><i class="pi pi-times mr-1"></i>Delete</button>
                <p-dialog header="Delete Job" [modal]="true" [(visible)]="visibleDelete" [style]="{ width: '25rem' }">
                    <span class="p-text-secondary block mb-5">are you sure you want to delete job.</span>
                    <div class="flex justify-content-end gap-2">
                        <p-button label="Cancel" severity="secondary" (click)="visibleDelete = false" />
                        <p-button label="Delete" (click)="deleteJob()" />
                    </div>
                </p-dialog>
            </div>
            <div>
                <button class="btn" (click)="pauseJ()" ><i class="pi pi-power-off mr-1"></i>Pause</button>
                <p-dialog header="Pause Job" [modal]="true" [(visible)]="visiblePause" [style]="{ width: '25rem' }">
                    <span class="p-text-secondary block mb-5">are you sure you want to pause job.</span>
                    <div class="flex justify-content-end gap-2">
                        <p-button label="Cancel" severity="secondary" (click)="visiblePause = false" />
                        <p-button label="Pause" (click)="pauseJob()" />
                    </div>
                </p-dialog>
            </div>
        </div>
    </div>


    <h3 style="opacity: 40%;">Success job</h3>

    
   <div class="my-4 p-4" style="border: 1px solid #eee; border-radius: 5px;">

        <p style="color: #b1adad;">Error time and the other ones </p>

        <!-- <p-table [value]="jobDetails" [tableStyle]="{ 'min-width': '50rem' }">
            <ng-template pTemplate="header">
                <tr>
                    <th>Job Name</th>
                    <th>Schedule Time</th>
                    <th>Last Fired Time</th>
                    <th>Next Fire Time</th>
                    <th>Job Status</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-job>
                <tr>
                    <td>{{job.jobName}}</td>
                    <td>{{job.scheduleTime | date: 'dd/MM/yyyy HH:mm:ss'}}</td> 
                    <td>{{job.lastFiredTime | date: 'dd/MM/yyyy HH:mm:ss'}}</td>
                    <td>{{job.nextFireTime | date: 'dd/MM/yyyy HH:mm:ss'}}</td>
                    <td>{{job.jobStatus}}</td>
                </tr>
            </ng-template>
        </p-table> -->
   </div>

   <!-- <div class="card flex flex-row-reverse">
    <p-toast />
    <p-splitButton 
        label="Save" 
        (onClick)="save('info')" 
        [model]="items" />
    </div> -->
    
    
    <!-- <div class="flex flex-row-reverse gap-1">
        <button class="p-3" style="border: none;border-radius: 4px;font-size: 14px; color: black; opacity: 80%;"><i class="pi pi-times mr-1"></i>Delete</button>
        <button class="p-3" style="border: none;border-radius: 4px;font-size: 14px; color: black; opacity: 80%;"><i class="pi pi-power-off mr-1"></i>Pause</button>
        <p-button label="DELETE" 
            icon="pi pi-times"/>
        <p-button label="STOP" 
            icon="pi pi-power-off"/>
    </div> -->

</div>

<div class="my-4 p-4 m-4" style="border: 1px solid #eee; border-radius: 5px;">
    <h3 style="opacity: 40%;">History</h3>
    <p-accordion>
        <p-accordionTab header="Job scheduled">
            <div class="my-4">
                <p-table [value]="jobDetails" [tableStyle]="{ 'min-width': '50rem' }">
                    <ng-template pTemplate="header">
                        <tr>
                            <th>Job Name</th>
                            <th>Schedule Time</th>
                            <th>Last Fired Time</th>
                            <th>Next Fire Time</th>
                            <th>Job Status</th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-job>
                        <tr>
                            <td>{{job.jobName}}</td>
                            <td>{{job.scheduleTime | date: 'dd/MM/yyyy HH:mm:ss'}}</td> 
                            <td>{{job.lastFiredTime | date: 'dd/MM/yyyy HH:mm:ss'}}</td>
                            <td>{{job.nextFireTime | date: 'dd/MM/yyyy HH:mm:ss'}}</td>
                            <td>{{job.jobStatus}}</td>
                        </tr>
                    </ng-template>
                </p-table>
           </div>
        </p-accordionTab>
        <p-accordionTab header="Processing job">
            <p>
                Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium...
            </p>
        </p-accordionTab>
        <p-accordionTab header="Job processing succeeded">
            <p>
                At vero eos et accusamus et iusto odio dignissimos...
            </p>
        </p-accordionTab>
        <p-accordionTab header="Job processing failed - An exception occurred">
            <p>
                At vero eos et accusamus et iusto odio dignissimos...
            </p>
        </p-accordionTab>
    </p-accordion>
</div>

<div class="my-4 p-4 m-4" style="border: 1px solid #eee; border-radius: 5px;">
    <p-table [value]="histories" 
    styleClass="p-datatable-striped"    
    selectionMode="single"
    [paginator]="true"
    [rows]="10"
    [rowsPerPageOptions]="[5, 10, 20]"
    [tableStyle]="{ 'min-width': '50rem' }">
        <ng-template pTemplate="header">
            <tr>
                <th>jobName</th>
                <th>previousFireTime</th>
                <th>scheduledFireTime</th>
                <th>nextFireTime</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-history>
            <tr>
                <td>{{ history.jobName }}</td>
                <td>{{ history.previousFireTime }}</td>
                <td>{{ history.scheduledFireTime }}</td>
                <td>{{ history.nextFireTime }}</td>
            </tr>
        </ng-template>
    </p-table>
</div>